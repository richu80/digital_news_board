<template>
    <div>
        <h3>{{Post.title}}</h3>
        <p>{{ Post.text }}</p>
        <p>{{ Post.category }}</p>
        <button @click="like">ü§ç</button>
        <button @click="unlike">üíó</button>
    </div>
</template>

<script>
    export default {
        props: ['post'],

        methods: {
            async like() {
                await fetch('/api/post/<int:post_id>/like',
                { 
                    method : "POST",
                    credentials: 'include',
                    headers: { 'Content-Type': 'application/json' }
                })
                this.$emit('refresh')
                //–æ–ø–æ–≤–µ—â–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã
            },

            async unlike() {
                await fetch('/api/post/<int:post_id>/unlike',
                { 
                    method : "DELETE",
                    credentials: 'include',
                    headers: { 'Content-Type': 'application/json' }
                })
                this.$emit('refresh')
            },


        }
    }
</script>